(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"6fed":function(t,e,s){"use strict";var a=s("8ab8");const o=async(t,e)=>{const s={method:"POST",url:"/user/signup",data:t};await Object(a["a"])(s).then(t=>{t.data.success?e(t.data.data):e(null)}).catch(t=>{t.isAxiosError&&alert("이미 가입된 아이디입니다.")})},i=async(t,e)=>{const s={method:"POST",url:"/user/login",data:t};await Object(a["a"])(s).then(t=>{t.data.success?e(t.data):e(null)}).catch(t=>{t.isAxiosError?alert("아이디 비밀번호를 다시 확인해주세요"):console.log("no")})};e["a"]={signUp:o,login:i}},"9d69":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",{staticClass:"login_cont"},[e("div",{staticClass:"login_input"},[e("h3",[t._v("로그인")]),e("ValidationObserver",{ref:"observer",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function({invalid:s}){return[e("InputWithValidation",{attrs:{rules:"required|id",type:"text",title:"아이디",name:"user.userId",autocomplete:"off",placeholder:"아이디 (대소문자/숫자 (2~14자리))"},model:{value:t.user.userId,callback:function(e){t.$set(t.user,"userId",e)},expression:"user.userId"}}),t.togglePassword?e("InputWithValidation",{ref:"pw",attrs:{rules:"required",type:"text",title:"비밀번호",name:"user.password",autocomplete:"off",placeholder:"비밀번호 (대소문자/숫자/특수문자 (10~16자리))"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}):e("InputWithValidation",{ref:"pw",attrs:{rules:"required",type:"password",title:"비밀번호",name:"user.password",autocomplete:"off",placeholder:"비밀번호 (대소문자/숫자/특수문자 (10~16자리))"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),e("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-between"}},[e("div",[e("input",{attrs:{type:"checkbox",id:"pw-toggle"},on:{change:t.passwordShow}}),e("label",{staticClass:"ml05",attrs:{for:"pw-toggle"},on:{click:function(e){return e.preventDefault(),t.passwordShow.apply(null,arguments)}}},[t._v(" 비밀번호 표시")])]),e("div",[e("input",{attrs:{type:"checkbox",id:"auto-login"}}),e("label",{staticClass:"ml05",attrs:{for:"auto-login"}},[t._v("자동 로그인")])])]),e("button",{staticClass:"button_default",attrs:{disabled:s},on:{click:t.login}},[t._v("로그인")])]}}])})],1),e("div",{staticClass:"login_process"},[e("ul",[e("li",[e("router-link",{attrs:{to:"/find/id"}},[e("a",{attrs:{href:""}},[t._v("이메일 찾기")])])],1),e("span",[t._v("| ")]),e("li",[e("router-link",{attrs:{to:"/find/pw"}},[e("a",{attrs:{href:""}},[t._v("비밀번호 찾기")])])],1)]),e("ul",[e("li",[e("router-link",{attrs:{to:"/join"}},[e("a",{attrs:{href:""}},[t._v("회원가입")])])],1)])]),e("div",{staticClass:"login_oauth"},[e("h5",[t._v("간편 로그인")]),e("ul",[t._m(0),e("li",{on:{click:t.kakaoLogin}},[e("img",{attrs:{src:"/images/svg/kakao.svg",alt:"카카오로그인"}})])])])])])},o=[function(){var t=this,e=t._self._c;return e("li",{attrs:{id:"naverIdLogin"}},[e("img",{attrs:{src:"/images/svg/naver.svg",alt:"네이버로그인"}})])}],i=(s("14d9"),s("7bb1")),r=s("6636"),n=s("6fed");window.Kakao.init("9a15de5db940f8d66cc86f1878c9915c");var l={name:"Login",components:{ValidationObserver:i["a"],InputWithValidation:r["a"]},data(){return{user:{},togglePassword:!1,naverLogin:null}},mounted(){this.naverLogin=new window.naver.LoginWithNaverId({clientId:"EInqwV8yZaaAV_Y685W8",callbackUrl:"http://localhost:8080",isPopup:!1,callbackHandle:!0,loginButton:{color:"green",type:1,height:40}}),this.naverLogin.init(),this.naverLogin.getLoginStatus(t=>{if(t){const t=this.naverLogin.user.getEmail();if(void 0===t||null===t)return console.log("이메일은 필수정보 입니다."),void this.naverLogin.reprompt();console.log("callback 처리에 실패하였습니다.")}})},methods:{passwordShow(){const t=document.getElementById("pw-toggle");this.togglePassword=!this.togglePassword,this.togglePassword?(this.$refs.pw.$attrs.type="text",t.checked=!0):(this.$refs.pw.$attrs.type="password",t.checked=!1)},kakaoLogin(){window.Kakao.Auth.login({scope:"profile_nickname",success:this.getKakaoAccount})},getKakaoAccount(){window.Kakao.API.request({url:"/v2/user/me",success:t=>{const e=t.kakao_account;this.$store.dispatch("login",{userId:e.profile.nickname}),alert("로그인 되었습니다."),window.location.replace("/")}})},login(){n["a"].login(this.user,t=>{t.success&&(localStorage.setItem("accessToken",t.data.token),this.$store.dispatch("login",{userId:this.user.userId}),this.$store.commit("setIsAuthenticated",!0),alert("로그인 되었습니다."),this.$router.push("/"))})},logout(){localStorage.clear(),window.location.replace("/"),this.$store.commit("setIsAuthenticated",!1),this.$store.commit("clearUser")}}},c=l,u=s("2877"),d=Object(u["a"])(c,a,o,!1,null,"e59f66a4",null);e["default"]=d.exports}}]);
//# sourceMappingURL=login.417a3e0e.js.map