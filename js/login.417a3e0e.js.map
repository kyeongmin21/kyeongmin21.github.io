{"version":3,"sources":["webpack:///./src/api/myPage.js","webpack:///./src/views/myPage/Login.vue","webpack:///src/views/myPage/Login.vue","webpack:///./src/views/myPage/Login.vue?db9e","webpack:///./src/views/myPage/Login.vue?523e"],"names":["signUp","async","formData","result","options","method","url","data","axios","then","response","success","catch","error","isAxiosError","alert","login","console","log","render","_vm","this","_c","_self","staticClass","_v","ref","attrs","scopedSlots","_u","key","fn","invalid","model","value","user","userId","callback","$$v","$set","expression","togglePassword","password","staticStyle","on","passwordShow","$event","preventDefault","apply","arguments","_m","kakaoLogin","staticRenderFns","window","name","components","ValidationObserver","InputWithValidation","naverLogin","mounted","clientId","callbackUrl","isPopup","callbackHandle","loginButton","color","type","height","methods","pw","scope","getKakaoAccount","ax","localStorage","logout","component"],"mappings":"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","file":"js/login.417a3e0e.js","sourcesContent":["import axios from '@/api/axios'\r\n\r\nconst signUp = async (formData, result) => {\r\n  const options = {\r\n    method: 'POST',\r\n    url: '/user/signup',\r\n    data: formData\r\n  }\r\n  await axios(options)\r\n    .then((response) => {\r\n      if (response.data.success) {\r\n        result(response.data.data)\r\n      } else {\r\n        result(null)\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      if (error.isAxiosError) {\r\n        alert('이미 가입된 아이디입니다.')\r\n      }\r\n /*     if (response.response.data.error.statusCode === 409) {\r\n        alert('이미 가입된 아이디입니다.')\r\n      }*/\r\n    })\r\n}\r\n\r\nconst login = async (formData, result) => {\r\n  const options = {\r\n    method: 'POST',\r\n    url: '/user/login',\r\n    data: formData\r\n  }\r\n  await axios(options)\r\n    .then((response) => {\r\n      if (response.data.success) {\r\n        result(response.data)\r\n      } else {\r\n        result(null)\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      if (error.isAxiosError) {\r\n        alert('아이디 비밀번호를 다시 확인해주세요')\r\n      } else {\r\n        console.log('no')\r\n      }\r\n      /* if (response.response.data.error.statusCode === 401) {\r\n         alert('아이디 비밀번호를 다시 확인해주세요')\r\n       }*/\r\n    })\r\n}\r\n\r\n\r\nexport default {\r\n  signUp,\r\n  login\r\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login_cont\"},[_c('div',{staticClass:\"login_input\"},[_c('h3',[_vm._v(\"로그인\")]),_c('ValidationObserver',{ref:\"observer\",attrs:{\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ invalid }){return [_c('InputWithValidation',{attrs:{\"rules\":\"required|id\",\"type\":\"text\",\"title\":\"아이디\",\"name\":\"user.userId\",\"autocomplete\":\"off\",\"placeholder\":\"아이디 (대소문자/숫자 (2~14자리))\"},model:{value:(_vm.user.userId),callback:function ($$v) {_vm.$set(_vm.user, \"userId\", $$v)},expression:\"user.userId\"}}),(_vm.togglePassword)?_c('InputWithValidation',{ref:\"pw\",attrs:{\"rules\":\"required\",\"type\":\"text\",\"title\":\"비밀번호\",\"name\":\"user.password\",\"autocomplete\":\"off\",\"placeholder\":\"비밀번호 (대소문자/숫자/특수문자 (10~16자리))\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}):_c('InputWithValidation',{ref:\"pw\",attrs:{\"rules\":\"required\",\"type\":\"password\",\"title\":\"비밀번호\",\"name\":\"user.password\",\"autocomplete\":\"off\",\"placeholder\":\"비밀번호 (대소문자/숫자/특수문자 (10~16자리))\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('div',{staticClass:\"d-flex\",staticStyle:{\"justify-content\":\"space-between\"}},[_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"pw-toggle\"},on:{\"change\":_vm.passwordShow}}),_c('label',{staticClass:\"ml05\",attrs:{\"for\":\"pw-toggle\"},on:{\"click\":function($event){$event.preventDefault();return _vm.passwordShow.apply(null, arguments)}}},[_vm._v(\" 비밀번호 표시\")])]),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"auto-login\"}}),_c('label',{staticClass:\"ml05\",attrs:{\"for\":\"auto-login\"}},[_vm._v(\"자동 로그인\")])])]),_c('button',{staticClass:\"button_default\",attrs:{\"disabled\":invalid},on:{\"click\":_vm.login}},[_vm._v(\"로그인\")])]}}])})],1),_c('div',{staticClass:\"login_process\"},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/find/id\"}},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"이메일 찾기\")])])],1),_c('span',[_vm._v(\"| \")]),_c('li',[_c('router-link',{attrs:{\"to\":\"/find/pw\"}},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"비밀번호 찾기\")])])],1)]),_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/join\"}},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"회원가입\")])])],1)])]),_c('div',{staticClass:\"login_oauth\"},[_c('h5',[_vm._v(\"간편 로그인\")]),_c('ul',[_vm._m(0),_c('li',{on:{\"click\":_vm.kakaoLogin}},[_c('img',{attrs:{\"src\":\"/images/svg/kakao.svg\",\"alt\":\"카카오로그인\"}})])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('li',{attrs:{\"id\":\"naverIdLogin\"}},[_c('img',{attrs:{\"src\":\"/images/svg/naver.svg\",\"alt\":\"네이버로그인\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login\">\r\n    <div class=\"login_cont\">\r\n\r\n      <div class=\"login_input\">\r\n        <h3>로그인</h3>\r\n        <ValidationObserver ref=\"observer\" v-slot=\"{ invalid }\" tag=\"div\">\r\n          <InputWithValidation rules=\"required|id\"\r\n                               type=\"text\"\r\n                               title=\"아이디\"\r\n                               name=\"user.userId\"\r\n                               v-model=\"user.userId\"\r\n                               autocomplete=\"off\"\r\n                               placeholder=\"아이디 (대소문자/숫자 (2~14자리))\"/>\r\n          <InputWithValidation v-if=\"togglePassword\"\r\n                               rules=\"required\"\r\n                               type=\"text\"\r\n                               title=\"비밀번호\"\r\n                               name=\"user.password\"\r\n                               v-model=\"user.password\"\r\n                               autocomplete=\"off\"\r\n                               ref=\"pw\"\r\n                               placeholder=\"비밀번호 (대소문자/숫자/특수문자 (10~16자리))\"/>\r\n          <InputWithValidation v-else\r\n                               rules=\"required\"\r\n                               type=\"password\"\r\n                               title=\"비밀번호\"\r\n                               name=\"user.password\"\r\n                               v-model=\"user.password\"\r\n                               autocomplete=\"off\"\r\n                               ref=\"pw\"\r\n                               placeholder=\"비밀번호 (대소문자/숫자/특수문자 (10~16자리))\"/>\r\n          <div class=\"d-flex\" style=\"justify-content: space-between;\">\r\n            <div>\r\n              <input type=\"checkbox\"\r\n                     id=\"pw-toggle\"\r\n                     @change=\"passwordShow\">\r\n              <label @click.prevent=\"passwordShow\" for=\"pw-toggle\" class=\"ml05\"> 비밀번호 표시</label>\r\n            </div>\r\n            <div>\r\n              <input type=\"checkbox\" id=\"auto-login\">\r\n              <label for=\"auto-login\" class=\"ml05\">자동 로그인</label>\r\n            </div>\r\n          </div>\r\n\r\n          <button class=\"button_default\" @click=\"login\" :disabled=\"invalid\">로그인</button>\r\n        </ValidationObserver>\r\n      </div>\r\n\r\n      <div class=\"login_process\">\r\n        <ul>\r\n          <li>\r\n            <router-link to=\"/find/id\"><a href=\"\">이메일 찾기</a></router-link>\r\n          </li>\r\n          <span>| </span>\r\n          <li>\r\n            <router-link to=\"/find/pw\"><a href=\"\">비밀번호 찾기</a></router-link>\r\n          </li>\r\n        </ul>\r\n        <ul>\r\n          <li>\r\n            <router-link to=\"/join\"><a href=\"\">회원가입</a></router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"login_oauth\">\r\n        <h5>간편 로그인</h5>\r\n        <ul>\r\n          <li id=\"naverIdLogin\"><img src=\"/images/svg/naver.svg\" alt=\"네이버로그인\"></li>\r\n          <li @click=\"kakaoLogin\"><img src=\"/images/svg/kakao.svg\" alt=\"카카오로그인\"></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {ValidationObserver} from 'vee-validate'\r\nimport InputWithValidation from '@/components/common/validations/inputbox'\r\nimport ax from '@/api/myPage'\r\nwindow.Kakao.init('9a15de5db940f8d66cc86f1878c9915c')\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n    ValidationObserver,\r\n    InputWithValidation,\r\n  },\r\n  data() {\r\n    return {\r\n      user: {},\r\n      togglePassword: false,\r\n      naverLogin: null,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.naverLogin = new window.naver.LoginWithNaverId({\r\n      clientId: 'EInqwV8yZaaAV_Y685W8',\r\n      callbackUrl: \"http://localhost:8080\",\r\n      isPopup: false,\r\n      callbackHandle: true,\r\n      loginButton: {color: 'green', type: 1, height: 40},\r\n    })\r\n    this.naverLogin.init()\r\n\r\n    this.naverLogin.getLoginStatus((status) => {\r\n      if (status) {\r\n        const email = this.naverLogin.user.getEmail()\r\n        if (email === undefined || email === null) {\r\n          console.log('이메일은 필수정보 입니다.')\r\n          this.naverLogin.reprompt()\r\n          return\r\n        } else {\r\n          console.log('callback 처리에 실패하였습니다.')\r\n        }\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    passwordShow() {\r\n      const pw = document.getElementById('pw-toggle')\r\n      this.togglePassword = !this.togglePassword\r\n      if (this.togglePassword) {\r\n        this.$refs.pw.$attrs.type = 'text'\r\n        pw.checked = true\r\n      } else {\r\n        this.$refs.pw.$attrs.type = 'password'\r\n        pw.checked = false\r\n      }\r\n    },\r\n    kakaoLogin() {\r\n      window.Kakao.Auth.login({\r\n        scope: 'profile_nickname',\r\n        success: this.getKakaoAccount\r\n      })\r\n    },\r\n    getKakaoAccount() {\r\n      window.Kakao.API.request({\r\n        url: '/v2/user/me',\r\n        success: res => {\r\n          const kakao_account = res.kakao_account\r\n          this.$store.dispatch('login', {userId: kakao_account.profile.nickname})\r\n          alert('로그인 되었습니다.')\r\n          window.location.replace('/')\r\n        },\r\n      })\r\n    },\r\n    login() {\r\n      ax.login(this.user,  (response) => {\r\n        if (response.success) {\r\n          localStorage.setItem('accessToken', response.data.token)\r\n          this.$store.dispatch('login', {userId: this.user.userId})\r\n          this.$store.commit('setIsAuthenticated', true)\r\n          alert('로그인 되었습니다.')\r\n          this.$router.push('/')\r\n        }\r\n      })\r\n    },\r\n    logout() {\r\n      localStorage.clear();\r\n      window.location.replace('/')\r\n      this.$store.commit('setIsAuthenticated', false)\r\n      this.$store.commit('clearUser')\r\n      // window.Kakao.API.request({url: '/v1/user/unlink'})\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=e59f66a4&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e59f66a4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}